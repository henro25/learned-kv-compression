{
  "raw_baseline_ppl": 72.65527617984746,
  "raw_baseline_overhead_per_token_s": 0.0005505758647962707,
  "memory_footprint_mb": {
    "float32_kv_cache": 0.28125,
    "int2_kv_cache": 0.017578125,
    "ae_int2_compressed_kv_cache": 0.00439453125,
    "int4_kv_cache": 0.03515625,
    "ae_int4_compressed_kv_cache": 0.0087890625,
    "int8_kv_cache": 0.0703125,
    "ae_int8_compressed_kv_cache": 0.017578125,
    "int16_kv_cache": 0.140625,
    "ae_int16_compressed_kv_cache": 0.03515625,
    "int32_kv_cache": 0.28125,
    "ae_int32_compressed_kv_cache": 0.0703125,
    "generation": {
      "ae_intNone_compressed_kv_cache": 0.0087890625,
      "int2_kv_cache": 0.002197265625,
      "ae_int2_compressed_kv_cache": 0.00054931640625,
      "int4_kv_cache": 0.00439453125,
      "ae_int4_compressed_kv_cache": 0.0010986328125,
      "int8_kv_cache": 0.0087890625,
      "ae_int8_compressed_kv_cache": 0.002197265625,
      "int16_kv_cache": 0.017578125,
      "ae_int16_compressed_kv_cache": 0.00439453125,
      "int32_kv_cache": 0.03515625,
      "ae_int32_compressed_kv_cache": 0.0087890625
    }
  },
  "perplexities": {
    "none": {
      "kv_cache_baseline_ppl": 72.65526145159056,
      "kv_cache_baseline_overhead_per_token_s": 0.005820878112243064,
      "ae_compressed_ppl": 2192.7076215940115,
      "avg_decompression_speed_per_token_s": 0.041232257061217435,
      "ae_compressed_overhead_per_token_s": 0.006514243755096728
    },
    "2": {
      "kv_cache_baseline_ppl": 1150.1580654764437,
      "kv_cache_baseline_overhead_per_token_s": 0.012036976724474192,
      "ae_compressed_ppl": 1900.5841815544434,
      "avg_decompression_speed_per_token_s": 0.09691376040812971,
      "ae_compressed_overhead_per_token_s": 0.00805368204337019
    },
    "4": {
      "kv_cache_baseline_ppl": 97.59075160304072,
      "kv_cache_baseline_overhead_per_token_s": 0.009074749375004706,
      "ae_compressed_ppl": 2240.625248821048,
      "avg_decompression_speed_per_token_s": 0.094500344691381,
      "ae_compressed_overhead_per_token_s": 0.007633990339287516
    },
    "8": {
      "kv_cache_baseline_ppl": 72.62027976428664,
      "kv_cache_baseline_overhead_per_token_s": 0.009080921216837266,
      "ae_compressed_ppl": 2194.0763220689987,
      "avg_decompression_speed_per_token_s": 0.09372968766069789,
      "ae_compressed_overhead_per_token_s": 0.007740467676017938
    },
    "16": {
      "kv_cache_baseline_ppl": 72.65478507791465,
      "kv_cache_baseline_overhead_per_token_s": 0.009016223632657177,
      "ae_compressed_ppl": 2192.7097670172557,
      "avg_decompression_speed_per_token_s": 0.09396175404076043,
      "ae_compressed_overhead_per_token_s": 0.006699936293374874
    },
    "32": {
      "kv_cache_baseline_ppl": 72.65523378330623,
      "kv_cache_baseline_overhead_per_token_s": 0.009125344334179596,
      "ae_compressed_ppl": 2192.7084985588854,
      "avg_decompression_speed_per_token_s": 0.09690322136473775,
      "ae_compressed_overhead_per_token_s": 0.007173680459178003
    }
  },
  "longbench": {
    "baseline": {
      "narrativeqa": 381.91017164632905,
      "hotpotqa": 233.66718798751668,
      "2wikimqa": 381.49076640369594,
      "musique": 183.8177610588584,
      "dureader": 83.32800382969856
    },
    "compressed": {
      "2": {
        "narrativeqa": 7062.952436077774,
        "avg_decompression_speed_per_token_s": {
          "narrativeqa": 0.09514910119989711,
          "hotpotqa": 0.08982547238890169,
          "2wikimqa": 0.08254966151248766,
          "musique": 0.08834083036658992,
          "dureader": 0.08900497894066377
        },
        "hotpotqa": 2291.392704498047,
        "2wikimqa": 3369.1548720146843,
        "musique": 1331.155366410438,
        "dureader": 11810.03942988298
      },
      "4": {
        "narrativeqa": 8606.602057074731,
        "avg_decompression_speed_per_token_s": {
          "narrativeqa": 0.094175010244165,
          "hotpotqa": 0.08949396081489222,
          "2wikimqa": 0.08972687252489493,
          "musique": 0.0900230074221377,
          "dureader": 0.08825954990104064
        },
        "hotpotqa": 2415.2136823924634,
        "2wikimqa": 3570.1598556903346,
        "musique": 1520.3271100832344,
        "dureader": 27420.1099517224
      },
      "8": {
        "narrativeqa": 8441.316286417408,
        "avg_decompression_speed_per_token_s": {
          "narrativeqa": 0.08337318248909469,
          "hotpotqa": 0.09691051192589839,
          "2wikimqa": 0.09201914094988979,
          "musique": 0.09408411833325468,
          "dureader": 0.09663934307929756
        },
        "hotpotqa": 2373.985551020794,
        "2wikimqa": 3657.1238838904173,
        "musique": 1462.5917472228182,
        "dureader": 24199.924769332876
      },
      "16": {
        "narrativeqa": 8420.652378840889,
        "avg_decompression_speed_per_token_s": {
          "narrativeqa": 0.08688254015546085,
          "hotpotqa": 0.09712251662956659,
          "2wikimqa": 0.08868763902499381,
          "musique": 0.08422055593323927,
          "dureader": 0.09632772019807646
        },
        "hotpotqa": 2373.655577890749,
        "2wikimqa": 3650.2061754668985,
        "musique": 1462.6620941841327,
        "dureader": 24218.939036616583
      },
      "32": {
        "narrativeqa": 8420.696045145347,
        "avg_decompression_speed_per_token_s": {
          "narrativeqa": 0.10346836391123462,
          "hotpotqa": 0.0970404291017804,
          "2wikimqa": 0.09748424268756821,
          "musique": 0.09649748086654755,
          "dureader": 0.08842371511882402
        },
        "hotpotqa": 2373.6472372871776,
        "2wikimqa": 3650.2082668305948,
        "musique": 1462.6546547189298,
        "dureader": 24219.085165476255
      }
    }
  },
  "examples": [
    {
      "prompt": " = Robert Boulter = \n",
      "raw": " = Robert Boulter = \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "kv_quant": " = Robert Boulter = \n\n\n\n\nI knew for The world he's in the series, who are the New,",
      "ae_compressed": " = Robert Boulter = \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "decompression_time_first_token_s": 0.0061645449998195545
    },
    {
      "prompt": " Robert Boulter is an English film , television and theatre actor . He had a guest @-@ starring role on the television series The Bill in 2000 . This was followed by a starring role in the play Herons written by Simon Stephens , which was performed in 2001 at the Royal Court Theatre . He had a guest role in the television series Judge John Deed in 2002 . In 2004 Boulter landed a role as \" Craig \" in the episode \" Teddy 's Story \" of the television series The Long Firm ; he starred alongside actors Mark Strong and Derek Jacobi . He was cast in the 2005 theatre productions of the Philip Ridley play Mercury Fur , which was performed at the Drum Theatre in Plymouth and the Menier Chocolate Factory in London . He was directed by John Tiffany and starred alongside Ben Whishaw , Shane Zaza , Harry Kent , Fraser Ayres , Sophie Stanton and Dominic Hall . \n",
      "raw": " Robert Boulter is an English film , television and theatre actor . He had a guest @-@ starring role on the television series The Bill in 2000 . This was followed by a starring role in the play Herons written by Simon Stephens , which was performed in 2001 at the Royal Court Theatre . He had a guest role in the television series Judge John Deed in 2002 . In 2004 Boulter landed a role as \" Craig \" in the episode \" Teddy 's Story \" of the television series The Long Firm ; he starred alongside actors Mark Strong and Derek Jacobi . He was cast in the 2005 theatre productions of the Philip Ridley play Mercury Fur , which was performed at the Drum Theatre in Plymouth and the Menier Chocolate Factory in London . He was directed by John Tiffany and starred alongside Ben Whishaw , Shane Zaza , Harry Kent , Fraser Ayres , Sophie Stanton and Dominic Hall . \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nHe was shown",
      "kv_quant": " Robert Boulter is an English film , television and theatre actor . He had a guest @-@ starring role on the television series The Bill in 2000 . This was followed by a starring role in the play Herons written by Simon Stephens , which was performed in 2001 at the Royal Court Theatre . He had a guest role in the television series Judge John Deed in 2002 . In 2004 Boulter landed a role as \" Craig \" in the episode \" Teddy 's Story \" of the television series The Long Firm ; he starred alongside actors Mark Strong and Derek Jacobi . He was cast in the 2005 theatre productions of the Philip Ridley play Mercury Fur , which was performed at the Drum Theatre in Plymouth and the Menier Chocolate Factory in London . He was directed by John Tiffany and starred alongside Ben Whishaw , Shane Zaza , Harry Kent , Fraser Ayres , Sophie Stanton and Dominic Hall . \n\n\nB-18 [ editToThis article isobah D' to make a '",
      "ae_compressed": " Robert Boulter is an English film , television and theatre actor . He had a guest @-@ starring role on the television series The Bill in 2000 . This was followed by a starring role in the play Herons written by Simon Stephens , which was performed in 2001 at the Royal Court Theatre . He had a guest role in the television series Judge John Deed in 2002 . In 2004 Boulter landed a role as \" Craig \" in the episode \" Teddy 's Story \" of the television series The Long Firm ; he starred alongside actors Mark Strong and Derek Jacobi . He was cast in the 2005 theatre productions of the Philip Ridley play Mercury Fur , which was performed at the Drum Theatre in Plymouth and the Menier Chocolate Factory in London . He was directed by John Tiffany and starred alongside Ben Whishaw , Shane Zaza , Harry Kent , Fraser Ayres , Sophie Stanton and Dominic Hall . \n\n\nBUD that I did not respond in the paper-hazones in the Washington,",
      "decompression_time_first_token_s": 0.006590776999928494
    },
    {
      "prompt": " In 2006 , Boulter starred alongside Whishaw in the play Citizenship written by Mark Ravenhill . He appeared on a 2006 episode of the television series , Doctors , followed by a role in the 2007 theatre production of How to Curse directed by Josie Rourke . How to Curse was performed at Bush Theatre in the London Borough of Hammersmith and Fulham . Boulter starred in two films in 2008 , Daylight Robbery by filmmaker Paris Leonti , and Donkey Punch directed by Olly Blackburn . In May 2008 , Boulter made a guest appearance on a two @-@ part episode arc of the television series Waking the Dead , followed by an appearance on the television series Survivors in November 2008 . He had a recurring role in ten episodes of the television series Casualty in 2010 , as \" Kieron Fletcher \" . Boulter starred in the 2011 film Mercenaries directed by Paris Leonti . \n",
      "raw": " In 2006 , Boulter starred alongside Whishaw in the play Citizenship written by Mark Ravenhill . He appeared on a 2006 episode of the television series , Doctors , followed by a role in the 2007 theatre production of How to Curse directed by Josie Rourke . How to Curse was performed at Bush Theatre in the London Borough of Hammersmith and Fulham . Boulter starred in two films in 2008 , Daylight Robbery by filmmaker Paris Leonti , and Donkey Punch directed by Olly Blackburn . In May 2008 , Boulter made a guest appearance on a two @-@ part episode arc of the television series Waking the Dead , followed by an appearance on the television series Survivors in November 2008 . He had a recurring role in ten episodes of the television series Casualty in 2010 , as \" Kieron Fletcher \" . Boulter starred in the 2011 film Mercenaries directed by Paris Leonti . \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAwards and accol",
      "kv_quant": " In 2006 , Boulter starred alongside Whishaw in the play Citizenship written by Mark Ravenhill . He appeared on a 2006 episode of the television series , Doctors , followed by a role in the 2007 theatre production of How to Curse directed by Josie Rourke . How to Curse was performed at Bush Theatre in the London Borough of Hammersmith and Fulham . Boulter starred in two films in 2008 , Daylight Robbery by filmmaker Paris Leonti , and Donkey Punch directed by Olly Blackburn . In May 2008 , Boulter made a guest appearance on a two @-@ part episode arc of the television series Waking the Dead , followed by an appearance on the television series Survivors in November 2008 . He had a recurring role in ten episodes of the television series Casualty in 2010 , as \" Kieron Fletcher \" . Boulter starred in the 2011 film Mercenaries directed by Paris Leonti . \n\n\nThe reason-line and on what they put this time being the rest of tas (",
      "ae_compressed": " In 2006 , Boulter starred alongside Whishaw in the play Citizenship written by Mark Ravenhill . He appeared on a 2006 episode of the television series , Doctors , followed by a role in the 2007 theatre production of How to Curse directed by Josie Rourke . How to Curse was performed at Bush Theatre in the London Borough of Hammersmith and Fulham . Boulter starred in two films in 2008 , Daylight Robbery by filmmaker Paris Leonti , and Donkey Punch directed by Olly Blackburn . In May 2008 , Boulter made a guest appearance on a two @-@ part episode arc of the television series Waking the Dead , followed by an appearance on the television series Survivors in November 2008 . He had a recurring role in ten episodes of the television series Casualty in 2010 , as \" Kieron Fletcher \" . Boulter starred in the 2011 film Mercenaries directed by Paris Leonti . \n\nA more than a year or two from an hour a day.m. story, with no",
      "decompression_time_first_token_s": 0.005228066999961811
    },
    {
      "prompt": " = = Career = = \n",
      "raw": " = = Career = = \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "kv_quant": " = = Career = = \n\nIt is also provides a few \"The E does, a lot [and on and the N",
      "ae_compressed": " = = Career = = \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "decompression_time_first_token_s": 0.005372932000000219
    },
    {
      "prompt": " = = = 2000 \u2013 2005 = = = \n",
      "raw": " = = = 2000 \u2013 2005 = = = \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
      "kv_quant": " = = = 2000 \u2013 2005 = = = \n\n\n\n\n\n\n\n\nThere's\n\nAs for this list of the first to",
      "ae_compressed": " = = = 2000 \u2013 2005 = = = \n\n\n\nThe numbers of the numbers of the recent American and the American and the American media all",
      "decompression_time_first_token_s": 0.005196082999873397
    }
  ],
  "config": {
    "name": "distilgpt2",
    "input_dim": 64,
    "latent_dim": 16,
    "batch_size": 2,
    "num_epochs": 10,
    "hidden_size": 768,
    "encoder_layer_sizes": [],
    "decoder_layer_sizes": [],
    "activation": "GELU",
    "gradient_accumulation_steps": 2,
    "lr": 0.005,
    "seed": 42,
    "head_dim": 64,
    "buffer_mult": 2,
    "num_hidden_layers": 6,
    "lm_batch_size": 1,
    "num_attention_heads": 12,
    "val_split": 0.1,
    "lr_reduce_factor": 0.5,
    "lr_patience": 1,
    "eval_interval": 1,
    "config": "configs/distilgpt2_experiment_16.json",
    "num_train_texts": 10000,
    "num_eval_texts": 5,
    "device": "cuda",
    "max_seq_len": 1024,
    "autoencoder_path": "experiment_results_distilgpt2/autoencoders_final_distilgpt2_latent_16_per_head.pth",
    "output_dir": "experiment_results_distilgpt2",
    "vocab_size": 50257,
    "cache_sizes": [
      1,
      10,
      100,
      1000
    ],
    "quantization_bits": [
      2,
      4,
      8,
      16,
      32
    ],
    "model_name": "distilgpt2",
    "dtype": "float32"
  }
}